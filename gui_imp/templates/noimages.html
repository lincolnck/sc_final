<!DOCTYPE html>
<html>
<head>
	<title>Face Averager</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
</head>
<body>
{% extends "layout.html" %}
{% block content %}
	<div class="main">
	<h1>You didn't upload any images!</h1>
    <h2>Upload your files below:</h2>
    <p>Note: only .jpg, .jpeg, .png, or .tiff files are allowed. The app will accept images with multiple faces in them, however make sure that the images you are uploading have faces that are clearly defined. If the app is unable to detect faces in the images you upload, it will not work.</p>
    <form id="upload-form" action="{{ url_for('upload') }}" method="POST" enctype="multipart/form-data">
    <input id="file-picker" type="file" name="file" accept="image/*" multiple>
    <div id="msg"></div>
    <input type="submit" value="Upload images." id="upload-button">
    </form>
</div>
{% endblock %}
</body>
<script>

    $("#file-picker").change(function(){

        var input = document.getElementById('file-picker');

        for (var i=0; i<input.files.length; i++)
        {

            var ext= input.files[i].name.substring(input.files[i].name.lastIndexOf('.')+1).toLowerCase()

            if ((ext == 'jpg') || (ext == 'png')) || ((ext == 'jpeg')) || ((ext == 'tiff'))
            {
                $("#msg").text("Files are supported")
            }
            else
            {
                $("#msg").text("Files are NOT supported")
                document.getElementById("file-picker").value ="";
            }

        }


    } );

</script>
</html>
